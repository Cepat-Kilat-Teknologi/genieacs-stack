apiVersion: v1
kind: Service
metadata:
  name: genieacs
  namespace: genieacs
  labels:
    app.kubernetes.io/name: genieacs
    app.kubernetes.io/component: app
spec:
  type: LoadBalancer
  loadBalancerIP: 10.100.0.198
  ports:
    # CWMP (TR-069) - CPE devices connect here
    - port: 7547
      targetPort: 7547
      protocol: TCP
      name: cwmp
    # NBI API
    - port: 7557
      targetPort: 7557
      protocol: TCP
      name: nbi
    # File Server
    - port: 7567
      targetPort: 7567
      protocol: TCP
      name: fs
    # Web UI
    - port: 3000
      targetPort: 3000
      protocol: TCP
      name: ui
  selector:
    app.kubernetes.io/name: genieacs
---
# Alternative: NodePort Service (uncomment if LoadBalancer not available)
# apiVersion: v1
# kind: Service
# metadata:
#   name: genieacs-nodeport
#   namespace: genieacs
#   labels:
#     app.kubernetes.io/name: genieacs
# spec:
#   type: NodePort
#   ports:
#     - port: 7547
#       targetPort: 7547
#       nodePort: 30547
#       name: cwmp
#     - port: 7557
#       targetPort: 7557
#       nodePort: 30557
#       name: nbi
#     - port: 7567
#       targetPort: 7567
#       nodePort: 30567
#       name: fs
#     - port: 3000
#       targetPort: 3000
#       nodePort: 30000
#       name: ui
#   selector:
#     app.kubernetes.io/name: genieacs